{"mappings":"gfAAA,IAiCQA,EACAC,EAlCRC,EAAAC,EAAA,SAEMC,EAAOC,SAASC,cAAc,kBAC9BC,EAAQF,SAASC,cAAc,qBAC/BE,EAAWH,SAASC,cAAc,0BAElCG,EAAc,sBACdC,EAAWC,KAAKC,MAAMC,aAAaC,QAAQL,KAAiB,GAoBlEL,EAAKW,iBAAiB,SAAS,EAAAb,EAAAc,WAlB/B,WAGEN,EAASO,MAAQV,EAAMW,MACvBR,EAASS,QAAUX,EAASU,MAE5B,IAAME,EAAiBT,KAAKU,UAAUX,GACtCG,aAAaS,QAAQb,EAAaW,E,GAWiB,MACrDhB,EAAKW,iBAAiB,UATtB,SAAsBQ,GACpBA,EAAMC,iBAEED,EAAFE,cAAcC,QACpBb,aAAac,WAAWlB,GACxBmB,QAAQC,IAAInB,E,IASNV,EAAea,aAAaC,QAAQL,IACpCR,EAAWU,KAAKC,MAAMZ,MAG1BQ,EAASU,MAAQjB,EAASkB,QAAUlB,EAASkB,QAAU,GACvDZ,EAAMW,MAAQjB,EAASgB,MAAQhB,EAASgB,MAAQ,G","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nconst form = document.querySelector('.feedback-form');\nconst email = document.querySelector('input[name=email]');\nconst textarea = document.querySelector('textarea[name=message]');\n\nconst STORAGE_KEY = 'feedback-form-state';\nconst formData = JSON.parse(localStorage.getItem(STORAGE_KEY)) || {};\n\nfunction onFormInput() {\n  //   console.log(event.target.name);\n  //   console.log(event.target.value);\n  formData.email = email.value;\n  formData.message = textarea.value;\n\n  const stringFormData = JSON.stringify(formData);\n  localStorage.setItem(STORAGE_KEY, stringFormData);\n}\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  // console.log(event.currentTarget); это форма\n  event.currentTarget.reset(); //сброс полей при submit\n  localStorage.removeItem(STORAGE_KEY);\n  console.log(formData);\n}\n\nform.addEventListener('input', throttle(onFormInput, 500));\nform.addEventListener('submit', onFormSubmit);\n\npopulateTextarea();\n\nfunction populateTextarea() {\n  const textForInput = localStorage.getItem(STORAGE_KEY);\n  const objField = JSON.parse(textForInput);\n\n  if (objField) {\n    textarea.value = objField.message ? objField.message : '';\n    email.value = objField.email ? objField.email : '';\n  }\n}\n"],"names":["textForInput","objField","$1WSnx","parcelRequire","$b00c40859be242c5$var$form","document","querySelector","$b00c40859be242c5$var$email","$b00c40859be242c5$var$textarea","$b00c40859be242c5$var$STORAGE_KEY","$b00c40859be242c5$var$formData","JSON","parse","localStorage","getItem","addEventListener","throttle","email","value","message","stringFormData","stringify","setItem","event","preventDefault","currentTarget","reset","removeItem","console","log"],"version":3,"file":"03-feedback.c459ca7d.js.map"}